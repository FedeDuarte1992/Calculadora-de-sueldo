<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Control de Asistencia y Salario</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    

    <div class="container">
        <h1>Control de Jornadas Laborales</h1>

        <div id="step-select-turno" class="step-box">
            <p>¿En qué turno estás trabajando hoy?</p>
            <div class="btn-group">
                <button class="secondary" onclick="selectTurno('mananaBtn')">Mañana (06hs)</button>
                <button class="secondary" onclick="selectTurno('tarde')">Tarde (14hs)</button>
                <button class="secondary" onclick="selectTurno('noche')">Noche (22hs)</button>
                <button class="secondary holiday-button" onclick="selectTurno('feriado')">Feriado (8hs normales)</button>
            </div>
        </div>

        <div id="step-fichaje-status" class="step-box" style="display: none;">
            <p>¿Fichaste temprano o tarde?</p>
            <div class="btn-group">
                <button onclick="fichajeStatus('temprano')">Temprano</button>
                <button class="late" onclick="fichajeStatus('tarde')">Tarde</button>
            </div>
        </div>

        <div id="step-input-hora" class="step-box" style="display: none;">
            <p>Ingresa la hora exacta de tu ingreso:</p>
            <div class="input-group">
                <input type="time" id="input-hora-ingreso">
            </div>
            <div class="btn-group">
                <button onclick="registerCustomEntryTime()">Registrar Hora</button>
            </div>
        </div>

        <div id="step-select-category" class="step-box" style="display: none;">
    <h2>Selecciona tu Categoría</h2>
    <div class="btn-group" id="category-options-container">
        <button class="category" onclick="selectCategory('A')">A</button>
        <button class="category" onclick="selectCategory('B')">B</button>
        <button class="category" onclick="selectCategory('C')">C</button>
        <button class="category" onclick="selectCategory('D')">D</button>
        <button class="category" onclick="selectCategory('E')">E</button>
        <button class="category" onclick="selectCategory('F')">F</button>
        <button class="category" onclick="selectCategory('G')">G</button>
        <button class="category" onclick="selectCategory('H')">H</button>
    </div>
</div>

    <div id="step-select-antiguedad" class="step-box" style="display:none;">
    <h2>Antigüedad (años)</h2>
    <div class="btn-group" id="antiguedad-options"> </div>
</div>

        <div id="step-extra-hours" class="step-box" style="display: none;">
            <p>¿Realizaste horas extras hoy?</p>
            <div class="btn-group">
                <button onclick="handleExtraHours(true)">Sí</button>
                <button class="secondary" onclick="handleExtraHours(false)">No</button>
            </div>
            <div class="input-group" id="extra-hours-input-group" style="display: none;">
                <label for="input-extra-hours">¿Cuántas horas extras?</label>
                <input type="number" id="input-extra-hours" min="1" max="16" value="1">
                <button onclick="registerExtraHours()">Confirmar Extras</button>
            </div>
        </div>
        <div class="btn-group" style="margin-top: 10px;">
  <button onclick="recordAttendance()">Finalizar Registro</button>
</div>
        <p id="result"></p>

         <div id="editing-message" style="display:none;">
            Estás editando el día: <span id="editing-date-display"></span>. Por favor, selecciona la información correcta.
            <div class="btn-group">
                <button class="secondary" onclick="cancelEditing()">Cancelar Edición</button>
                <button class="delete-btn" id="delete-record-btn" onclick="deleteRecord()" style="display:none;">Eliminar Registro</button>
            </div>
        </div>

        <div id="quincena-display">
            </div>

        <div id="history"> <h2>Historial de Registros</h2>
            <ul id="history-list">
                </ul>
            <button id="clearHistoryBtn" class="secondary">Limpiar Historial</button>
        </div>
    </div> <div class="calendar-container">
        <div class="calendar-header">
            <button id="prevMonthBtn">←</button>
            <h3 id="current-month-year"></h3> <button id="nextMonthBtn">→</button>
        </div>
        <div class="calendar-grid">
            <div id="calendar-weekdays">
                <span>Lun</span><span>Mar</span><span>Mié</span><span>Jue</span><span>Vie</span><span>Sáb</span><span>Dom</span>
            </div>
            
        </div><div id="calendar-days" class="calendar-grid"> </div>
    </div> 
    <script src="constants.js"></script>     <!-- Constantes deben estar disponibles primero -->
    <script src="domElements.js"></script>   <!-- Elementos DOM deben ser seleccionados y expuestos -->
    <script src="globalState.js"></script>   <!-- Variables de estado global deben ser definidas y expuestas -->
    <script src="utils.js"></script>         <!-- Funciones de utilidad general -->
    <script src="storage.js"></script>       <!-- Funciones de almacenamiento y workRecords -->
    <script src="history.js"></script>       <!-- Funciones de historial (puede depender de storage) -->
    <script src="calculations.js"></script>  <!-- Funciones de cálculo (depende de constants, globalState) -->
    <script src="calendar.js"></script>      <!-- Lógica del calendario (depende de domElements, globalState, storage, calculations, utils) -->
    <script src="attendanceFlow.js"></script> <!-- Lógica del flujo (depende de domElements, globalState, constants, calculations) -->
    <script src="app.js"></script>           <!-- Lógica principal y listeners (depende de todo lo anterior) -->
</body>
</html>